<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        /*
            변수
               1. 값을 가지는 변수
               2. 주소를 가지는 변수
        */
       var n1 = 100;
       var n2 = n1;
       var arr1 = [10, 20, 30, 40];
       var arr2 = arr1;
       console.log('값 변경 전..');
       console.log('n1===n2', n1===n2);
       console.log(n1, n2);
       console.log('arr1===arr2', arr1===arr2);
       console.log(arr1, arr2);
       console.log('값 변경 후..');
       n2 = 200;
       console.log(n1, n2);
       arr2[3] = 400;
       console.log(arr1, arr2);
       // 1단계 참조 복사.. 성공
       var arr3 = [11, 22, 33];
       var arr4 = Object.assign([], arr3);
       document.write(arr3, '<br>', arr4, '<br>');
       arr4[0] = 111;
       document.write(arr3, '<br>', arr4, '<br>');
       console.log(arr3===arr4);  // false

        // 2단계 참조 복사 .. 깊은 복사 x
       var arr5 = [[11, 22, 33],[44, 55]];
       var arr6 = Object.assign([], arr5);
       document.write(arr5, '<br>', arr6, '<br>');
       arr6[0][0] = 1;
       document.write(arr5, '<br>', arr6, '<br>');
       console.log(arr5===arr6);   // false
       console.log(arr5[0]===arr6[0]);  //true

        // 2단계 참조 복사 .. 깊은 복사 x
       var arr7 = [[1, 2, 3], [4,5,6]];
       var arr8 = [...arr7];  // Spread 연산자
       document.write(arr7, '<br>', arr8, '<br>');
       arr8[1][1] = 55;
       document.write(arr7, '<br>', arr8, '<br>');
       console.log(arr7===arr8);
       console.log(arr7[0]===arr8[0]);

      // 2단계 참조 복사.. 깊은 복사 O
       var arr9 = [[100, 200, [300]], [400, 500, [600, 700]]];
       console.log(JSON.stringify(arr9));
       console.log(JSON.parse(JSON.stringify(arr9)));
       var arr10 = JSON.parse(JSON.stringify(arr9));
       document.write(arr9, '<br>', arr10, '<br>');
       arr10[1][2][0] = 6;
       document.write(arr9, '<br>', arr10, '<br>');
       console.log(arr9===arr10);
       console.log(arr9[0]===arr10[0]);
       console.log(arr9[1][2]===arr10[1][2]);
    </script>
</body>
</html>